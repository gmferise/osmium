<!DOCTYPE html>
<html lang="en">
  <head>
	<title>Osmium</title>
	<link href="style.css" rel="stylesheet" type ="text/css"/>
	<link href="favicon.ico" rel="icon" type="image/png">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="scripts.js"></script> 
	<script src="https://www.gstatic.com/charts/loader.js"></script>
	<script>
		google.charts.load('current');
	</script>
	
	<!-- Vue Styling -->
	<link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<!-- <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet"> -->
	
  </head>
  <body id='auth-body' class='bigbody pretty-scrollbar-dark'>
	<div style="position: fixed; left:0;top:0;">
		<a onclick="document.getElementById('auth-body').classList.toggle('authenticated')">toggle auth</a>
		<a onclick="document.getElementById('auth-body').classList.toggle('databased')">toggle db</a>
	</div>
	<div class='fullsize title-center logotext'>Osmium</div>
	<div id="newdb-popup">
		<div class="content">
		
		</div>
	</div>	
	<div class='smallish-spacer'></div>
	
	<button class='big' id="auth-button" onclick="toggleAuth()"></button>
	<script async defer src="https://apis.google.com/js/api.js" 
		onload="this.onload=function(){};loadAuth()" 
		onreadystatechange="if (this.readyState === 'complete') this.onload()">
	</script>

	<div class='smallish-spacer'></div>
	
	<div class='dropdown auth-required'>
	  Select a database:
	  <div class='dropdown-content'>
		<p>a</p>
		<p>b</p>
		<p>c</p>
		<p>d</p>
		<p>e</p>
	  </div>
	</div>
	<button class="new auth-required" onclick="document.getElementById('newdb-popup').style = 'visibility:visible';">New</button>
	<div class='medium-spacer'></div>
	
	<button class='big new-tab db-required' onclick="window.open('kiosk.html'+getDatabaseQueryString(),'_blank')">Student Kiosk</button>
	<div class='smallish-spacer'></div>
	
	<button class='big new-tab db-required' onclick="window.open('front-desk.html'+getDatabaseQueryString(),'_blank')">Front Desk</button>
	<div class='smallish-spacer'></div>
	
	</table>
</body>
</html>
<script>
function getDatabaseQueryString() {
	if (databaseId == null) {
		return "";
	} else {
		return "?id="+databaseId;
	}
}

// Updates toggleAuth button status text
function updateAuthStatus() {
	var el = document.getElementById('auth-body');
	
	if (GoogleAuth.isSignedIn.get()) {
		if (!(el.classList.contains('authenticated'))) {
			el.classList.add('authenticated');
		}
	}
	else {
		if (el.classList.contains('authenticated')) {
			el.classList.remove('authenticated');
		}
	}
}
</script> 
